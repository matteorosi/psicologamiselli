---
const base = import.meta.env.BASE_URL;

interface NavItem {
  label: string;
  href: string;
}

// Ensure base URL ends with a slash
const normalizedBase = base.endsWith("/") ? base : `${base}/`;

const navItems: NavItem[] = [
  { label: "Home", href: normalizedBase },
  { label: "Disturbi Trattati", href: `${normalizedBase}#projects` },
  { label: "Terapia CBT", href: `${normalizedBase}terapia-cognitivo-comportamentale` },
  { label: "Schema Therapy", href: `${normalizedBase}schema-therapy` },
  { label: "Contatti", href: `${normalizedBase}#contact` },
];
---

<header class="navbar bg-base-100 shadow-sm sticky top-0 z-50">
  <div class="navbar-start">
    <div class="dropdown">
      <div tabindex="0" role="button" class="btn btn-ghost lg:hidden" aria-label="Menu">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h8m-8 6h16" />
        </svg>
      </div>
      <ul
        tabindex="0"
        class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52"
      >
        {navItems.map((item) => (
          <li><a href={item.href}>{item.label}</a></li>
        ))}
      </ul>
    </div>
    <a href={base} class="btn btn-ghost text-xl font-semibold text-primary">
      Dott.ssa Miselli
    </a>
  </div>
  <div class="navbar-center hidden lg:flex">
    <ul class="menu menu-horizontal px-1 gap-1">
      {navItems.map((item) => (
        <li>
          <a
            href={item.href}
            class="hover:text-primary transition-colors"
          >
            {item.label}
          </a>
        </li>
      ))}
    </ul>
  </div>
  <div class="navbar-end">
    <a href="tel:+393479574727" class="btn btn-primary btn-sm hidden sm:inline-flex">
      Prenota
    </a>
  </div>
</header>
