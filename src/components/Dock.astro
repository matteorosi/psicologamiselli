---
import { getIcon } from "../utils/iconMapper";

const base = import.meta.env.BASE_URL;
const normalizedBase = base.endsWith("/") ? base.slice(0, -1) : base;

interface Props {
  extraLinks: Array<{
    link: string;
    icon: string;
    label: string;
    displayOn?: "both" | "dock" | "fab";
  }>;
}

const { extraLinks } = Astro.props;
---

<div class="dock dock-lg bg-neutral text-neutral-content lg:hidden z-50">
  {
    extraLinks.map((link) => {
      const IconComponent = getIcon(link.icon as any);
      return (
        <a href={`${normalizedBase}${link.link}`} class="dock-item" aria-label={link.label}>
          <IconComponent class="size-6" />
          <span class="dock-label">{link.label}</span>
        </a>
      );
    })
  }
</div>
